{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar initialState = {\n  id: 1,\n  User: {\n    id: 1,\n    userId: 'ian'\n  },\n  Order: [//     {\n    //     id: null,\n    //     title: null,\n    //     price: null,\n    //     quantity: 0\n    // }\n  ],\n  LoadOrderLoading: false,\n  LoadOrdertDone: false,\n  LoadOrderError: null\n};\nexport var ADD_CART_REQUEST = 'ADD_CART_REQUEST';\nexport var ADD_CART_SUCCEESS = 'ADD_CART_SUCCEESS';\nexport var ADD_CART_FAILURE = 'ADD_CART_FAILURE';\nexport var REMOVE_CART_REQUEST = 'REMOVE_CART_REQUEST';\nexport var REMOVE_CART_SUCCEESS = 'REMOVE_CART_SUCCEESS';\nexport var REMOVE_CART_FAILURE = 'REMOVE_CART_FAILURE';\nexport var REMOVE_ALL_CART_REQUEST = 'REMOVE_ALL_CART_REQUEST';\nexport var REMOVE_ALL_CART_SUCCEESS = 'REMOVE_ALL_CART_SUCCEESS';\nexport var REMOVE_ALL_CART_FAILURE = 'REMOVE_ALL_CART_FAILURE'; // export const addCart = (data) => {\n//     return{\n//         type: ADD_CART,\n//         data\n//     }\n// }\n\nexport var addCartAction = function addCartAction(data) {\n  return {\n    type: ADD_CART_REQUEST,\n    data: data\n  };\n};\nexport var removeCartAction = function removeCartAction(data) {\n  return {\n    type: REMOVE_CART_REQUEST,\n    data: data\n  };\n};\nexport var removeAllCartAction = function removeAllCartAction() {\n  return {\n    type: REMOVE_ALL_CART_REQUEST\n  };\n}; // const dummyProduct = {\n//     id: 2,\n//     title: \"Mens Casual Premium Slim Fit T-Shirts\",\n//     price: 22.3,\n//     image: \"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg\"\n// }\n// const remove = useCallback(\n//     (id) => {\n//         setOrders(orders => {\n//             return orders.filter(order => order.id !== id)\n//         })\n//     },\n//     [],\n// )\n// const removeAll = useCallback(() => {\n//     setOrders([]);\n// },[]);\n//Order = Order.filter(order => order.id !== action.data.id)\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_CART_REQUEST:\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          LoadOrderLoading: true,\n          LoadOrdertDone: false\n        });\n      }\n\n    case ADD_CART_SUCCEESS:\n      {\n        var _console;\n\n        console.log(action.data.id);\n\n        (_console = console).log.apply(_console, _toConsumableArray(state.Order).concat([action.data.id]));\n\n        var Order = _toConsumableArray(state.Order);\n\n        var check = Order.find(function (order) {\n          return order.id === action.data.id;\n        });\n\n        if (check === undefined) {\n          console.log(check, 'check');\n          action.data.quantity = 1;\n          return _objectSpread(_objectSpread({}, state), {}, {\n            Order: [action.data].concat(_toConsumableArray(state.Order)),\n            LoadOrderLoading: false,\n            LoadOrdertDone: true\n          });\n        } else {\n          Order.map(function (order) {\n            console.log(order, 'order');\n\n            if (order.id === action.data.id) {\n              console.log('중복');\n              order.quantity = order.quantity + 1;\n              action.data.quantity = order.quantity + 1;\n              return _objectSpread(_objectSpread({}, state), {}, {\n                Order: [action.data].concat(_toConsumableArray(state.Order)),\n                // Order:order.quantity= order.quantity+1,\n                //...order.quantity,\n                LoadOrderLoading: false,\n                LoadOrdertDone: true\n              });\n            }\n          });\n        }\n      }\n\n    case REMOVE_CART_REQUEST:\n      {\n        return _objectSpread({}, state);\n      }\n\n    case REMOVE_CART_SUCCEESS:\n      {\n        var _Order = _toConsumableArray(state.Order);\n\n        _Order.filter(function (order) {\n          return order.id !== action.data;\n        });\n\n        console.log('remove', _Order);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          Order: _Order.filter(function (order) {\n            return order.id !== action.data;\n          })\n        });\n      }\n\n    case REMOVE_ALL_CART_REQUEST:\n      {\n        return _objectSpread({}, state);\n      }\n\n    case REMOVE_ALL_CART_SUCCEESS:\n      {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, ['removeALLALL'].concat(_toConsumableArray(state.Order.splice(0))));\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          Order: []\n        });\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/ian07/Desktop/react-fake-shop/reducers/cart.js"],"names":["initialState","id","User","userId","Order","LoadOrderLoading","LoadOrdertDone","LoadOrderError","ADD_CART_REQUEST","ADD_CART_SUCCEESS","ADD_CART_FAILURE","REMOVE_CART_REQUEST","REMOVE_CART_SUCCEESS","REMOVE_CART_FAILURE","REMOVE_ALL_CART_REQUEST","REMOVE_ALL_CART_SUCCEESS","REMOVE_ALL_CART_FAILURE","addCartAction","data","type","removeCartAction","removeAllCartAction","reducer","state","action","console","log","check","find","order","undefined","quantity","map","filter","splice"],"mappings":"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","sourcesContent":["const initialState = {\r\n            id:1,\r\n            User:{\r\n                id: 1,\r\n                userId: 'ian'\r\n            },\r\n            Order:[\r\n            //     {\r\n            //     id: null,\r\n            //     title: null,\r\n            //     price: null,\r\n            //     quantity: 0\r\n            // }\r\n        ],\r\n        LoadOrderLoading: false,\r\n        LoadOrdertDone: false,\r\n        LoadOrderError: null,\r\n}\r\n\r\nexport const ADD_CART_REQUEST = 'ADD_CART_REQUEST';\r\nexport const ADD_CART_SUCCEESS = 'ADD_CART_SUCCEESS';\r\nexport const ADD_CART_FAILURE = 'ADD_CART_FAILURE';\r\n\r\nexport const REMOVE_CART_REQUEST = 'REMOVE_CART_REQUEST';\r\nexport const REMOVE_CART_SUCCEESS = 'REMOVE_CART_SUCCEESS';\r\nexport const REMOVE_CART_FAILURE = 'REMOVE_CART_FAILURE';\r\n\r\nexport const REMOVE_ALL_CART_REQUEST = 'REMOVE_ALL_CART_REQUEST';\r\nexport const REMOVE_ALL_CART_SUCCEESS = 'REMOVE_ALL_CART_SUCCEESS';\r\nexport const REMOVE_ALL_CART_FAILURE = 'REMOVE_ALL_CART_FAILURE';\r\n\r\n\r\n// export const addCart = (data) => {\r\n//     return{\r\n//         type: ADD_CART,\r\n//         data\r\n//     }\r\n// }\r\nexport const addCartAction = (data) => {\r\n    return{\r\n        type: ADD_CART_REQUEST,\r\n        data\r\n    }\r\n}\r\n\r\nexport const removeCartAction = (data) => {\r\n    return{\r\n        type: REMOVE_CART_REQUEST,\r\n        data\r\n    }\r\n}\r\n\r\nexport const removeAllCartAction = () => {\r\n    return{\r\n        type: REMOVE_ALL_CART_REQUEST\r\n    }\r\n}\r\n\r\n// const dummyProduct = {\r\n//     id: 2,\r\n//     title: \"Mens Casual Premium Slim Fit T-Shirts\",\r\n//     price: 22.3,\r\n//     image: \"https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg\"\r\n// }\r\n// const remove = useCallback(\r\n//     (id) => {\r\n//         setOrders(orders => {\r\n//             return orders.filter(order => order.id !== id)\r\n//         })\r\n//     },\r\n//     [],\r\n// )\r\n// const removeAll = useCallback(() => {\r\n//     setOrders([]);\r\n// },[]);\r\n\r\n//Order = Order.filter(order => order.id !== action.data.id)\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case ADD_CART_REQUEST:{\r\n           \r\n            return{\r\n                ...state,\r\n                LoadOrderLoading: true,\r\n                LoadOrdertDone: false,\r\n            }\r\n        }\r\n        case ADD_CART_SUCCEESS:{\r\n            console.log(action.data.id);\r\n            console.log(...state.Order,action.data.id);\r\n            let Order = [...state.Order];\r\n            const check = Order.find(order =>order.id === action.data.id);\r\n                if(check === undefined){\r\n                    console.log(check,'check')\r\n                    action.data.quantity = 1;\r\n                        return{\r\n                            ...state,\r\n                            Order: [action.data, ...state.Order],\r\n                            LoadOrderLoading: false,\r\n                            LoadOrdertDone: true\r\n                        }\r\n                }else{\r\n                Order.map((order)=>{\r\n                    console.log(order, 'order')\r\n                if(order.id === action.data.id){    \r\n                  console.log('중복')\r\n                  order.quantity = order.quantity+1;\r\n                  action.data.quantity = order.quantity+1\r\n                  return{\r\n                    ...state,\r\n                    Order: [action.data, ...state.Order],\r\n                    // Order:order.quantity= order.quantity+1,\r\n                    //...order.quantity,\r\n                    LoadOrderLoading: false,\r\n                    LoadOrdertDone: true\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        }\r\n        case REMOVE_CART_REQUEST:{\r\n            return{\r\n                ...state\r\n            }\r\n        }\r\n\r\n        case REMOVE_CART_SUCCEESS:{\r\n            let Order = [...state.Order];\r\n            Order.filter(order => order.id !== action.data);\r\n            console.log('remove',Order);\r\n            return{\r\n                ...state,\r\n                Order:Order.filter(order => order.id !== action.data)\r\n            }\r\n        }\r\n\r\n        case REMOVE_ALL_CART_REQUEST:{\r\n            return{\r\n                ...state\r\n            }\r\n        }\r\n        case REMOVE_ALL_CART_SUCCEESS:{\r\n            console.log('removeALLALL',...state.Order.splice(0));\r\n            return{\r\n                ...state,\r\n                Order: [],\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}