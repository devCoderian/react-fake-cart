{"ast":null,"code":"import { all, fork, takeLatest, delay, put, call } from \"@redux-saga/core/effects\";\nimport axios from \"axios\";\nexport default function* productSaga() {\n  function loadProductAPI(category) {\n    console.log('category', category);\n    return axios.get(`https://fakestoreapi.com/products/${category}`);\n  }\n\n  function* loadProduct(action) {\n    try {\n      const result = yield call(loadProductAPI, action.data);\n      yield put({\n        type: 'LOAD_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'LOAD_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n      s;\n    }\n  }\n\n  function* searchProduct() {\n    try {\n      const result = yield call(loadProductAPI, '');\n      yield put({\n        type: 'SEARCH_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'SEARCH_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n    }\n  }\n\n  function* sortProduct() {\n    try {\n      const result = yield call(loadProductAPI);\n      yield put({\n        type: 'SEARCH_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'SEARCH_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n    }\n  }\n\n  function* watchLoadProduct() {\n    yield takeLatest('LOAD_PRODUCT_REQUEST', loadProduct);\n  }\n\n  function* watchSearchProduct() {\n    yield takeLatest('SEARCH_PRODUCT_REQUEST', searchProduct);\n  }\n\n  function* watchSearchProduct() {\n    yield takeLatest('SORT_PRODUCT_REQUEST', sortProduct);\n  }\n\n  yield all([fork(watchLoadProduct), fork(watchSearchProduct)]);\n}","map":{"version":3,"sources":["C:/Users/ian07/Desktop/react-fake-shop/sagas/product.js"],"names":["all","fork","takeLatest","delay","put","call","axios","productSaga","loadProductAPI","category","console","log","get","loadProduct","action","result","data","type","err","error","response","s","searchProduct","sortProduct","watchLoadProduct","watchSearchProduct"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgCC,KAAhC,EAAuCC,GAAvC,EAA4CC,IAA5C,QAAwD,0BAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAAUC,WAAV,GAAuB;AAElC,WAASC,cAAT,CAAwBC,QAAxB,EAAiC;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,QAAvB;AACA,WAAOH,KAAK,CAACM,GAAN,CAAW,qCAAoCH,QAAS,EAAxD,CAAP;AACH;;AAED,YAAUI,WAAV,CAAsBC,MAAtB,EAA8B;AAC1B,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMV,IAAI,CAACG,cAAD,EAAiBM,MAAM,CAACE,IAAxB,CAAzB;AACA,YAAMZ,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,sBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAID,KAND,CAME,OAAOE,GAAP,EAAY;AACZR,MAAAA,OAAO,CAACS,KAAR,CAAcD,GAAd;AACA,YAAMd,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,sBADE;AAERE,QAAAA,KAAK,EAAED,GAAG,CAACE,QAAJ,CAAaJ;AAFZ,OAAD,CAAT;AAGGK,MAAAA,CAAC;AACL;AACF;;AAEH,YAAUC,aAAV,GAA0B;AACtB,QAAI;AACF,YAAMP,MAAM,GAAG,MAAMV,IAAI,CAACG,cAAD,EAAiB,EAAjB,CAAzB;AACA,YAAMJ,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,wBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAIC,KANH,CAMI,OAAOE,GAAP,EAAY;AACdR,MAAAA,OAAO,CAACS,KAAR,CAAcD,GAAd;AACA,YAAMd,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,wBADE;AAERE,QAAAA,KAAK,EAAED,GAAG,CAACE,QAAJ,CAAaJ;AAFZ,OAAD,CAAT;AAID;AACF;;AAEH,YAAUO,WAAV,GAAwB;AACpB,QAAI;AACF,YAAMR,MAAM,GAAG,MAAMV,IAAI,CAACG,cAAD,CAAzB;AACA,YAAMJ,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,wBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAIC,KANH,CAMI,OAAOE,GAAP,EAAY;AACdR,MAAAA,OAAO,CAACS,KAAR,CAAcD,GAAd;AACA,YAAMd,GAAG,CAAC;AACRa,QAAAA,IAAI,EAAE,wBADE;AAERE,QAAAA,KAAK,EAAED,GAAG,CAACE,QAAJ,CAAaJ;AAFZ,OAAD,CAAT;AAID;AACF;;AAGH,YAAUQ,gBAAV,GAA4B;AAC1B,UAAMtB,UAAU,CAAC,sBAAD,EAAyBW,WAAzB,CAAhB;AACD;;AACD,YAAUY,kBAAV,GAA8B;AAC5B,UAAMvB,UAAU,CAAC,wBAAD,EAA2BoB,aAA3B,CAAhB;AACD;;AACD,YAAUG,kBAAV,GAA8B;AAC5B,UAAMvB,UAAU,CAAC,sBAAD,EAAyBqB,WAAzB,CAAhB;AACD;;AAED,QAAMvB,GAAG,CAAC,CACNC,IAAI,CAACuB,gBAAD,CADE,EAENvB,IAAI,CAACwB,kBAAD,CAFE,CAAD,CAAT;AAIH","sourcesContent":["import { all, fork, takeLatest, delay, put, call } from \"@redux-saga/core/effects\";\r\nimport axios from \"axios\";\r\n\r\nexport default function* productSaga(){\r\n\r\n    function loadProductAPI(category){\r\n        console.log('category',category);\r\n        return axios.get(`https://fakestoreapi.com/products/${category}`);\r\n    }\r\n\r\n    function* loadProduct(action) {\r\n        try {\r\n          const result = yield call(loadProductAPI, action.data);\r\n          yield put({\r\n            type: 'LOAD_PRODUCT_SUCCESS',\r\n            data: result.data,\r\n          });\r\n        } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'LOAD_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });s\r\n        }\r\n      }\r\n\r\n    function* searchProduct() {\r\n        try {\r\n          const result = yield call(loadProductAPI, '');\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_SUCCESS',\r\n            data: result.data\r\n          })\r\n          } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });\r\n        }\r\n      }\r\n    \r\n    function* sortProduct() {\r\n        try {\r\n          const result = yield call(loadProductAPI);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_SUCCESS',\r\n            data: result.data\r\n          })\r\n          } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });\r\n        }\r\n      }\r\n\r\n      \r\n    function* watchLoadProduct(){\r\n      yield takeLatest('LOAD_PRODUCT_REQUEST', loadProduct);\r\n    }\r\n    function* watchSearchProduct(){\r\n      yield takeLatest('SEARCH_PRODUCT_REQUEST', searchProduct);\r\n    }\r\n    function* watchSearchProduct(){\r\n      yield takeLatest('SORT_PRODUCT_REQUEST', sortProduct);\r\n    }\r\n\r\n    yield all([\r\n        fork(watchLoadProduct),\r\n        fork(watchSearchProduct)\r\n    ]);\r\n}"]},"metadata":{},"sourceType":"module"}