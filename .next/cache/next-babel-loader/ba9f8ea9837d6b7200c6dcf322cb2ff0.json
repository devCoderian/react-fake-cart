{"ast":null,"code":"import { all, fork, takeLatest, delay, put, call } from \"@redux-saga/core/effects\";\nimport axios from \"axios\";\nexport default function* productSaga() {\n  function loadProductAPI(category) {\n    return axios.get(`https://fakestoreapi.com/products/${category}`);\n  }\n\n  function* loadProduct(action) {\n    try {\n      const result = yield call(loadProductAPI, action.data);\n      yield put({\n        type: 'LOAD_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'LOAD_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n    }\n  }\n\n  function* searchProduct() {\n    try {\n      const result = yield call(loadProductAPI);\n      yield put({\n        type: 'SEARCH_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'SEARCH_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n    }\n  }\n\n  function* sortProduct() {\n    try {\n      const result = yield call(loadProductAPI);\n      yield put({\n        type: 'SEARCH_PRODUCT_SUCCESS',\n        data: result.data\n      });\n    } catch (err) {\n      console.error(err);\n      yield put({\n        type: 'SEARCH_PRODUCT_FAILURE',\n        error: err.response.data\n      });\n    }\n  }\n\n  function* watchLoadProduct() {\n    yield takeLatest('LOAD_PRODUCT_REQUEST', loadProduct);\n  }\n\n  function* watchSearchProduct() {\n    yield takeLatest('SEARCH_PRODUCT_REQUEST', searchProduct);\n  }\n\n  function* watchSearchProduct() {\n    yield takeLatest('SORT_PRODUCT_REQUEST', sortProduct);\n  }\n\n  yield all([fork(watchLoadProduct), fork(watchSearchProduct)]);\n}","map":{"version":3,"sources":["C:/Users/ian07/Desktop/react-fake-shop/sagas/product.js"],"names":["all","fork","takeLatest","delay","put","call","axios","productSaga","loadProductAPI","category","get","loadProduct","action","result","data","type","err","console","error","response","searchProduct","sortProduct","watchLoadProduct","watchSearchProduct"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgCC,KAAhC,EAAuCC,GAAvC,EAA4CC,IAA5C,QAAwD,0BAAxD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,UAAUC,WAAV,GAAuB;AAElC,WAASC,cAAT,CAAwBC,QAAxB,EAAiC;AAC7B,WAAOH,KAAK,CAACI,GAAN,CAAW,qCAAoCD,QAAS,EAAxD,CAAP;AACH;;AAED,YAAUE,WAAV,CAAsBC,MAAtB,EAA8B;AAC1B,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMR,IAAI,CAACG,cAAD,EAAiBI,MAAM,CAACE,IAAxB,CAAzB;AACA,YAAMV,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,sBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAID,KAND,CAME,OAAOE,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,YAAMZ,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,sBADE;AAERG,QAAAA,KAAK,EAAEF,GAAG,CAACG,QAAJ,CAAaL;AAFZ,OAAD,CAAT;AAID;AACF;;AAEH,YAAUM,aAAV,GAA0B;AACtB,QAAI;AACF,YAAMP,MAAM,GAAG,MAAMR,IAAI,CAACG,cAAD,CAAzB;AACA,YAAMJ,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,wBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAIC,KANH,CAMI,OAAOE,GAAP,EAAY;AACdC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,YAAMZ,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,wBADE;AAERG,QAAAA,KAAK,EAAEF,GAAG,CAACG,QAAJ,CAAaL;AAFZ,OAAD,CAAT;AAID;AACF;;AAEH,YAAUO,WAAV,GAAwB;AACpB,QAAI;AACF,YAAMR,MAAM,GAAG,MAAMR,IAAI,CAACG,cAAD,CAAzB;AACA,YAAMJ,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,wBADE;AAERD,QAAAA,IAAI,EAAED,MAAM,CAACC;AAFL,OAAD,CAAT;AAIC,KANH,CAMI,OAAOE,GAAP,EAAY;AACdC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,YAAMZ,GAAG,CAAC;AACRW,QAAAA,IAAI,EAAE,wBADE;AAERG,QAAAA,KAAK,EAAEF,GAAG,CAACG,QAAJ,CAAaL;AAFZ,OAAD,CAAT;AAID;AACF;;AAGH,YAAUQ,gBAAV,GAA4B;AAC1B,UAAMpB,UAAU,CAAC,sBAAD,EAAyBS,WAAzB,CAAhB;AACD;;AACD,YAAUY,kBAAV,GAA8B;AAC5B,UAAMrB,UAAU,CAAC,wBAAD,EAA2BkB,aAA3B,CAAhB;AACD;;AACD,YAAUG,kBAAV,GAA8B;AAC5B,UAAMrB,UAAU,CAAC,sBAAD,EAAyBmB,WAAzB,CAAhB;AACD;;AAED,QAAMrB,GAAG,CAAC,CACNC,IAAI,CAACqB,gBAAD,CADE,EAENrB,IAAI,CAACsB,kBAAD,CAFE,CAAD,CAAT;AAIH","sourcesContent":["import { all, fork, takeLatest, delay, put, call } from \"@redux-saga/core/effects\";\r\nimport axios from \"axios\";\r\n\r\nexport default function* productSaga(){\r\n  \r\n    function loadProductAPI(category){\r\n        return axios.get(`https://fakestoreapi.com/products/${category}`);\r\n    }\r\n\r\n    function* loadProduct(action) {\r\n        try {\r\n          const result = yield call(loadProductAPI, action.data);\r\n          yield put({\r\n            type: 'LOAD_PRODUCT_SUCCESS',\r\n            data: result.data,\r\n          });\r\n        } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'LOAD_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });\r\n        }\r\n      }\r\n\r\n    function* searchProduct() {\r\n        try {\r\n          const result = yield call(loadProductAPI);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_SUCCESS',\r\n            data: result.data\r\n          })\r\n          } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });\r\n        }\r\n      }\r\n    \r\n    function* sortProduct() {\r\n        try {\r\n          const result = yield call(loadProductAPI);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_SUCCESS',\r\n            data: result.data\r\n          })\r\n          } catch (err) {\r\n          console.error(err);\r\n          yield put({\r\n            type: 'SEARCH_PRODUCT_FAILURE',\r\n            error: err.response.data,\r\n          });\r\n        }\r\n      }\r\n\r\n      \r\n    function* watchLoadProduct(){\r\n      yield takeLatest('LOAD_PRODUCT_REQUEST', loadProduct);\r\n    }\r\n    function* watchSearchProduct(){\r\n      yield takeLatest('SEARCH_PRODUCT_REQUEST', searchProduct);\r\n    }\r\n    function* watchSearchProduct(){\r\n      yield takeLatest('SORT_PRODUCT_REQUEST', sortProduct);\r\n    }\r\n\r\n    yield all([\r\n        fork(watchLoadProduct),\r\n        fork(watchSearchProduct)\r\n    ]);\r\n}"]},"metadata":{},"sourceType":"module"}