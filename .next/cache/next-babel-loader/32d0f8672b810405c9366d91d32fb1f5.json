{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\goman\\\\Desktop\\\\react-fake-cart\\\\components\\\\ProductList.js\",\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { Row, Col } from 'antd';\nimport { List, Button, Space, Card } from 'antd';\nimport { DollarCircleOutlined, HeartOutlined, HeartTwoTone, ShoppingCartOutlined, StarOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { LoadProductAction } from '../reducers/product';\nimport { addCartAction } from '../reducers/cart';\n\nvar ProductList = function ProductList() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.product;\n  }),\n      Products = _useSelector.Products,\n      loadProductLoading = _useSelector.loadProductLoading; // const { Order}  = useSelector(state => state.cart);\n\n\n  useEffect(_s(function () {\n    _s();\n\n    var _useSelector2 = useSelector(function (state) {\n      return {\n        Order: state.cart.Order,\n        diff: state.cart.diff\n      };\n    }, shallowEqual),\n        Order = _useSelector2.Order,\n        diff = _useSelector2.diff; // 업데이트!\n\n  }, \"M51tXJ9NB7+JSGS5pTY9ZLCPYyQ=\", false, function () {\n    return [useSelector];\n  }), [Order]);\n  var LoadProduct = useCallback(function () {\n    dispatch(LoadProductAction());\n  }, []); // const addCart = useCallback((item) =>{\n  //   dispatch(addCartAction(item));\n  // },[]);\n\n  var addCart = useCallback(function (item) {\n    console.log(item.id, Order);\n    var check = Order.find(function (order) {\n      return order.id === item.id;\n    });\n\n    if (check === undefined) {\n      item.quantity = 1;\n      console.log('first');\n      dispatch(addCartAction(item)); // return {item, quantity: 1};\n    } else {\n      Order.map(function (order) {\n        if (order.id === item.id) {\n          console.log('중복');\n          order.quantity = order.quantity + 1;\n          dispatch(addCartAction(order));\n        }\n      });\n    }\n  }, []); //useSelector\n\n  var _useState = useState(false),\n      liked = _useState[0],\n      setLiked = _useState[1];\n\n  var onToggle = useCallback(function () {\n    setLiked(function (prev) {\n      return !prev;\n    });\n  }, []);\n  useEffect(function () {\n    LoadProduct();\n  }, []);\n  var listData = [];\n\n  for (var i = 0; i < 23; i++) {\n    listData.push({\n      id: {\n        i: i\n      },\n      href: 'https://ant.design',\n      title: \"ant design part \".concat(i),\n      avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\n      description: 'Ant Design, a design language for background applications, is refined by Ant UED Team.',\n      content: 'We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.',\n      price: \"\".concat(i)\n    });\n  }\n\n  var IconText = function IconText(_ref) {\n    var icon = _ref.icon,\n        text = _ref.text;\n    return __jsx(Space, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(icon), text);\n  };\n\n  var style = {\n    background: '#fff',\n    padding: '8px 20px',\n    marginBottom: '60px'\n  };\n  return __jsx(Row, {\n    gutter: 16,\n    justify: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, __jsx(Col, {\n    span: 18,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, __jsx(List, {\n    style: style,\n    itemLayout: \"vertical\",\n    size: \"large\",\n    pagination: {\n      onChange: function onChange(page) {\n        console.log(page);\n      },\n      pageSize: 5\n    },\n    loading: loadProductLoading,\n    dataSource: Products,\n    renderItem: function renderItem(item) {\n      return __jsx(List.Item, {\n        key: item.id,\n        actions: [__jsx(IconText, {\n          icon: DollarCircleOutlined,\n          text: item.price,\n          key: \"list-vertical-star-o\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }\n        }), liked ? __jsx(HeartTwoTone, {\n          key: item.id,\n          twoToneColor: \"red\",\n          onClick: onToggle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 27\n          }\n        }) : __jsx(HeartOutlined, {\n          onClick: onToggle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 99\n          }\n        }), __jsx(Button, {\n          icon: __jsx(ShoppingCartOutlined, {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 35\n            }\n          }),\n          onClick: function onClick() {\n            return addCart(item);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }\n        })],\n        extra: __jsx(\"img\", {\n          width: 150,\n          height: 200,\n          alt: \"logo\",\n          src: item.image,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, __jsx(List.Item.Meta, {\n        title: __jsx(\"a\", {\n          href: item.href,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 28\n          }\n        }, item.title),\n        description: item.description,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }), item.content);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s2(ProductList, \"cjpDoQUl6BWsNx6uVHusI1ffpFA=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["C:/Users/goman/Desktop/react-fake-cart/components/ProductList.js"],"names":["React","useCallback","useState","useEffect","Row","Col","List","Button","Space","Card","DollarCircleOutlined","HeartOutlined","HeartTwoTone","ShoppingCartOutlined","StarOutlined","useSelector","useDispatch","shallowEqual","LoadProductAction","addCartAction","ProductList","dispatch","state","product","Products","loadProductLoading","Order","cart","diff","LoadProduct","addCart","item","console","log","id","check","find","order","undefined","quantity","map","liked","setLiked","onToggle","prev","listData","i","push","href","title","avatar","description","content","price","IconText","icon","text","createElement","style","background","padding","marginBottom","onChange","page","pageSize","image"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect} from 'react'\r\nimport { Row, Col } from 'antd'\r\nimport { List, Button, Space,Card} from 'antd';\r\nimport { DollarCircleOutlined, HeartOutlined, HeartTwoTone, ShoppingCartOutlined, StarOutlined } from '@ant-design/icons';\r\n\r\nimport { useSelector, useDispatch, shallowEqual} from 'react-redux';\r\nimport { LoadProductAction } from '../reducers/product';\r\nimport { addCartAction } from '../reducers/cart';\r\n\r\nconst ProductList = () => {\r\n  \r\n  const dispatch = useDispatch();\r\n  const { Products, loadProductLoading }  = useSelector(state => state.product);\r\n\r\n  // const { Order}  = useSelector(state => state.cart);\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      \r\n      const { Order, diff }  = useSelector(\r\n        state => ({\r\n          Order: state.cart.Order,\r\n          diff: state.cart.diff\r\n        }),\r\n        shallowEqual \r\n        );// 업데이트!\r\n  },[Order]);\r\n\r\n  const LoadProduct = useCallback(() =>{\r\n    dispatch(LoadProductAction());\r\n  },[]);\r\n\r\n\r\n  // const addCart = useCallback((item) =>{\r\n  \r\n  //   dispatch(addCartAction(item));\r\n  // },[]);\r\n\r\n  const addCart = useCallback((item) => {\r\n          console.log(item.id, Order)\r\n            const check = Order.find(order =>order.id === item.id);\r\n            if(check === undefined){\r\n              item.quantity = 1;\r\n              console.log('first')\r\n              dispatch(addCartAction(item));  \r\n              // return {item, quantity: 1};\r\n            }else{\r\n                Order.map((order)=>{\r\n                    if(order.id === item.id){\r\n                      console.log('중복')\r\n                      order.quantity = order.quantity+1;\r\n                      dispatch(addCartAction(order));\r\n                    }\r\n                  })\r\n            }\r\n},[]);\r\n\r\n\r\n//useSelector\r\n\r\n  const [liked, setLiked] = useState(false);\r\n  const onToggle = useCallback(() =>{\r\n    setLiked((prev) => !(prev));\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    LoadProduct();\r\n  }, []);\r\n    const listData = [];\r\n    for (let i = 0; i < 23; i++) {\r\n      listData.push({\r\n        id:{i},\r\n        href: 'https://ant.design',\r\n        title: `ant design part ${i}`,\r\n        avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\r\n        description:\r\n          'Ant Design, a design language for background applications, is refined by Ant UED Team.',\r\n        content:\r\n          'We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.',\r\n          price: `${i}`\r\n        });\r\n    }\r\n    const IconText = ({ icon, text }) => (\r\n      <Space>\r\n        {React.createElement(icon)}\r\n        {text}\r\n      </Space>\r\n    );\r\n    const style = { background: '#fff', padding: '8px 20px',marginBottom: '60px'};\r\n    return (\r\n        <Row  gutter={16} justify=\"center\">\r\n        <Col span = {18}>\r\n        <List   style={style}\r\n                itemLayout=\"vertical\"\r\n                size=\"large\"\r\n                pagination={{\r\n                onChange: page => {\r\n                    console.log(page);\r\n                },\r\n                pageSize: 5,\r\n                }}\r\n                loading = {loadProductLoading}\r\n                dataSource={Products}\r\n                renderItem={item => (\r\n                <List.Item\r\n                   \r\n                    key={item.id}\r\n                    actions={[\r\n                    <IconText icon={DollarCircleOutlined} text={item.price} key=\"list-vertical-star-o\" />,\r\n                    liked?<HeartTwoTone  key ={item.id} twoToneColor = \"red\" onClick={onToggle}/>:<HeartOutlined onClick={onToggle} />,\r\n                    <Button icon={<ShoppingCartOutlined />} onClick={() =>addCart(item)}>\r\n                    </Button>,\r\n                    ]}\r\n                    extra={\r\n                    <img\r\n                        width={150}\r\n                        height ={200}\r\n                        alt=\"logo\"\r\n                        src={item.image}\r\n                    />\r\n                    }\r\n                >\r\n                    <List.Item.Meta\r\n                    title={<a href={item.href}>{item.title}</a>}\r\n                    description={item.description}\r\n                    />\r\n                    {item.content}\r\n                </List.Item>\r\n            )}\r\n        />\r\n          </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default ProductList\r\n"]},"metadata":{},"sourceType":"module"}