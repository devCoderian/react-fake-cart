{"ast":null,"code":"import { all, fork, takeLatest, delay, put } from \"@redux-saga/core/effects\";\nexport default function* cartSaga() {\n  function addCartAPI(data) {\n    return axios.post('/api/addCart', data); // -> 실제 서버에 요청을 보냄\n  }\n\n  function* addCartAction(action) {\n    try {\n      //yield call해서 로그인 api를 실행함\n      //const result =  yield call(addCartAPI, action.data);\n      // yield delay(1000);\n      yield put({\n        type: 'ADD_CART_SUCCEESS',\n        data: action.data\n      });\n    } catch (err) {\n      yield put({\n        type: 'ADD_CART_FAILURE',\n        data: err.response.data\n      });\n    }\n  }\n\n  function* removeCartAction(action) {\n    try {\n      //yield call해서 로그인 api를 실행함\n      //const result =  yield call(addCartAPI, action.data);\n      // yield delay(1000);\n      yield put({\n        type: 'REMOVE_CART_SUCCEESS',\n        data: action.data\n      });\n    } catch (err) {\n      yield put({\n        type: 'REMOVE_CART_FAILURE',\n        data: err.response.data\n      });\n    }\n  }\n\n  function* removeAllCartAction() {\n    try {\n      //yield call해서 로그인 api를 실행함\n      //const result =  yield call(addCartAPI, action.data);\n      // yield delay(1000);\n      yield put({\n        type: 'REMOVE_ALL_CART_SUCCEESS'\n      });\n    } catch (err) {\n      yield put({\n        type: 'REMOVE_ALL_CART_FAILURE',\n        data: err.response.data\n      });\n    }\n  }\n\n  function* watchAddCart() {\n    yield takeLatest('ADD_CART_REQUEST', addCartAction(action));\n  }\n\n  function* watchRemoveCart() {\n    yield takeLatest('REMOVE_CART_REQUEST', removeCartAction(action));\n  }\n\n  function* watchRemoveAllCart() {\n    yield takeLatest('REMOVE_ALL_CART_REQUEST', removeAllCartAction);\n  }\n\n  yield all([fork(watchAddCart), fork(watchRemoveCart), fork(watchRemoveAllCart)]);\n}","map":{"version":3,"sources":["C:/Users/ian07/Desktop/react-fake-shop/sagas/cart.js"],"names":["all","fork","takeLatest","delay","put","cartSaga","addCartAPI","data","axios","post","addCartAction","action","type","err","response","removeCartAction","removeAllCartAction","watchAddCart","watchRemoveCart","watchRemoveAllCart"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,EAAgCC,KAAhC,EAAuCC,GAAvC,QAAiD,0BAAjD;AACA,eAAe,UAAUC,QAAV,GAAoB;AAG3B,WAASC,UAAT,CAAoBC,IAApB,EAAyB;AACrB,WAAOC,KAAK,CAACC,IAAN,CAAW,cAAX,EAA2BF,IAA3B,CAAP,CADqB,CAErB;AAEH;;AAED,YAAUG,aAAV,CAAwBC,MAAxB,EAA+B;AAC3B,QAAG;AACC;AACA;AACA;AACA,YAAMP,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE,mBADA;AAENL,QAAAA,IAAI,EAAEI,MAAM,CAACJ;AAFP,OAAD,CAAT;AAIH,KARD,CAQC,OAAMM,GAAN,EAAU;AACP,YAAMT,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE,kBADA;AAENL,QAAAA,IAAI,EAACM,GAAG,CAACC,QAAJ,CAAaP;AAFZ,OAAD,CAAT;AAIH;AACJ;;AACD,YAAUQ,gBAAV,CAA2BJ,MAA3B,EAAkC;AAC9B,QAAG;AACC;AACA;AACA;AACA,YAAMP,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE,sBADA;AAENL,QAAAA,IAAI,EAAEI,MAAM,CAACJ;AAFP,OAAD,CAAT;AAIH,KARD,CAQC,OAAMM,GAAN,EAAU;AACP,YAAMT,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE,qBADA;AAENL,QAAAA,IAAI,EAACM,GAAG,CAACC,QAAJ,CAAaP;AAFZ,OAAD,CAAT;AAIH;AACJ;;AAGD,YAAUS,mBAAV,GAA+B;AAC3B,QAAG;AACC;AACA;AACA;AACA,YAAMZ,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE;AADA,OAAD,CAAT;AAGH,KAPD,CAOC,OAAMC,GAAN,EAAU;AACP,YAAMT,GAAG,CAAC;AACNQ,QAAAA,IAAI,EAAE,yBADA;AAENL,QAAAA,IAAI,EAACM,GAAG,CAACC,QAAJ,CAAaP;AAFZ,OAAD,CAAT;AAIH;AACJ;;AAIL,YAAUU,YAAV,GAAwB;AACpB,UAAMf,UAAU,CAAC,kBAAD,EAAqBQ,aAAa,CAACC,MAAD,CAAlC,CAAhB;AACH;;AAED,YAAUO,eAAV,GAA2B;AACvB,UAAMhB,UAAU,CAAC,qBAAD,EAAwBa,gBAAgB,CAACJ,MAAD,CAAxC,CAAhB;AACH;;AAED,YAAUQ,kBAAV,GAA8B;AAC1B,UAAMjB,UAAU,CAAC,yBAAD,EAA4Bc,mBAA5B,CAAhB;AACH;;AAED,QAAMhB,GAAG,CAAC,CACNC,IAAI,CAACgB,YAAD,CADE,EAENhB,IAAI,CAACiB,eAAD,CAFE,EAGNjB,IAAI,CAACkB,kBAAD,CAHE,CAAD,CAAT;AAKH","sourcesContent":["import { all, fork, takeLatest, delay, put} from \"@redux-saga/core/effects\";\r\nexport default function* cartSaga(){\r\n    \r\n\r\n        function addCartAPI(data){\r\n            return axios.post('/api/addCart', data)\r\n            // -> 실제 서버에 요청을 보냄\r\n\r\n        }\r\n\r\n        function* addCartAction(action){\r\n            try{\r\n                //yield call해서 로그인 api를 실행함\r\n                //const result =  yield call(addCartAPI, action.data);\r\n                // yield delay(1000);\r\n                yield put({\r\n                    type: 'ADD_CART_SUCCEESS',\r\n                    data: action.data\r\n                });\r\n            }catch(err){\r\n                yield put({\r\n                    type: 'ADD_CART_FAILURE',\r\n                    data:err.response.data,\r\n                });\r\n            }\r\n        }\r\n        function* removeCartAction(action){\r\n            try{\r\n                //yield call해서 로그인 api를 실행함\r\n                //const result =  yield call(addCartAPI, action.data);\r\n                // yield delay(1000);\r\n                yield put({\r\n                    type: 'REMOVE_CART_SUCCEESS',\r\n                    data: action.data\r\n                });\r\n            }catch(err){\r\n                yield put({\r\n                    type: 'REMOVE_CART_FAILURE',\r\n                    data:err.response.data,\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        function* removeAllCartAction(){\r\n            try{\r\n                //yield call해서 로그인 api를 실행함\r\n                //const result =  yield call(addCartAPI, action.data);\r\n                // yield delay(1000);\r\n                yield put({\r\n                    type: 'REMOVE_ALL_CART_SUCCEESS',\r\n                });\r\n            }catch(err){\r\n                yield put({\r\n                    type: 'REMOVE_ALL_CART_FAILURE',\r\n                    data:err.response.data,\r\n                });\r\n            }\r\n        }\r\n\r\n        \r\n\r\n    function* watchAddCart(){\r\n        yield takeLatest('ADD_CART_REQUEST', addCartAction(action));\r\n    }\r\n\r\n    function* watchRemoveCart(){\r\n        yield takeLatest('REMOVE_CART_REQUEST', removeCartAction(action));\r\n    }\r\n\r\n    function* watchRemoveAllCart(){\r\n        yield takeLatest('REMOVE_ALL_CART_REQUEST', removeAllCartAction);\r\n    }\r\n\r\n    yield all([\r\n        fork(watchAddCart),\r\n        fork(watchRemoveCart),\r\n        fork(watchRemoveAllCart)\r\n    ]);\r\n}"]},"metadata":{},"sourceType":"module"}